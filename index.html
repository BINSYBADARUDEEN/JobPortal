<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Portal</title>
  <script src="js/app.js"></script>
</head>
<body>
  <h1>Job Portal</h1>
<h2>Create or Update Job</h2>
<form id="job-form">
  <input type="hidden" id="job-id" placeholder="Job ID (for update)">
  <input type="text" id="job-title" placeholder="Job Title" required>
  <input type="text" id="job-company" placeholder="Company" required>
  <input type="text" id="job-location" placeholder="Location" required>
  <input type="text" id="job-description" placeholder="Job Description" required>
  <input type="number" id="job-salary" placeholder="Salary" required>
  <button type="submit">Submit</button>
</form>
<h2>Search Jobs</h2>
<form id="search-form">
  <input type="text" id="search-title" placeholder="Search by Title">
  <input type="text" id="search-location" placeholder="Search by Location">
  <button type="submit">Search</button>
</form>
<h2>Job Listings</h2>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Company</th>
      <th>Location</th>
      <th>Description</th>
      <th>Salary</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="job-list"></tbody>
</table>
<script>
  const jobForm = document.getElementById('job-form');
  const searchForm = document.getElementById('search-form');
  const jobTable = document.getElementById('jobTable').getElementsByTagName('tbody')[0];
  const apiUrl = 'http://localhost:3000/api/jobs';
  //display jobs in table
  function fetchJobs() {
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          jobTable.innerHTML = '';
          data.forEach(job => {
            const row = jobTable.insertRow();
            row.insertCell(0).textContent = job.title;
            row.insertCell(1).textContent = job.company;
            row.insertCell(2).textContent = job.location;
            row.insertCell(3).textContent = job.salary;
            row.insertCell(4).textContent = job.description;

            const actionsCell = row.insertCell(5);
            actionsCell.innerHTML = `
              <button onclick="editJob(${job.id})">Edit</button>
              <button onclick="deleteJob(${job.id})">Delete</button>
            `;
          });
        });
    }
</script>
</body>
</html>